#   2022-2023春 编译原理课程设计 规划
##  1.词法分析  lex / 手工
    token记号
##  2.语法分析  yacc / 手工 自顶向下，自底向上（yacc是自底向上的） 
    生成语法树
##  3.语义分析  
    语义分析
##  4.目标代码生成 C/汇编  能不能用LLVM
    能用LLVM的话，目标语言可C可汇编
##  5.图形化界面？

##  6.部署
    docker + ubuntu

使用Lex和Yacc进行词法分析和语法分析，使用C++作为主体语言，并通过LLVM生成目标代码：
定义Pascal语言的文法规则：首先需要定义Pascal语言的文法规则，包括词法和语法规则。词法规则指定如何将源代码分解为标记（token），而语法规则定义了源代码的结构和语义。
使用Lex生成词法分析器：根据定义的词法规则，使用Lex工具生成词法分析器。词法分析器读取源代码并将其分解为标记序列，每个标记都包含一个类型和一个值。
使用Yacc生成语法分析器：根据定义的语法规则，使用Yacc工具生成语法分析器。语法分析器将标记序列转换为语法分析树，同时验证语法和语义错误。
在语法分析器中嵌入语义分析：在语法分析器中，添加语义动作，对语法分析树进行语义分析。
最后根据上述三个步骤的抽象语法树生成目标代码

词法分析：手工编写Pascal语言的词法分析器，将输入的Pascal源代码转换为令牌（Token）序列。
语法分析：手工编写Pascal语言的语法分析器，采用LR(1)文法进行语法分析。语法分析器根据输入的令牌序列，构建抽象语法树（Abstract Syntax Tree，AST）。
语义分析：对构建的抽象语法树进行语义分析，检查程序是否符合Pascal语言的语法规则和语义规则。同时进行类型检查，确保程序的类型安全性。
中间代码生成：将抽象语法树转换为C语言的中间表示（Intermediate Representation，IR）。
代码优化：对生成的中间代码进行优化，以提高程序的性能和可读性。
目标代码生成：将优化后的中间代码转换为C语言的目标代码。
输出目标代码：将生成的C语言目标代码输出到文件中，以供后续编译和执行。
需要注意的是，手工编写编译器的词法分析和语法分析器需要对Pascal语言的文法进行详细的分析和理解，编写相应的文法规则和语法动作。同时，手工编写编译器也需要进行大量的测试和调试，确保编译器的正确性和稳定性。

LLVM可以将LLVM IR转换为C语言作为目标语言。LLVM提供了一个名为“llvm-c” 的C语言绑定，它允许使用C语言调用LLVM库中的函数和类。在LLVM中，可以使用llvm-c将LLVM IR编译成C语言，从而生成可移植的C语言代码。通过将LLVM IR转换为C语言，可以将LLVM与现有的C语言工具链无缝集成，例如GNU编译器套件（GCC），使得LLVM生成的目标代码可以与GCC生成的目标代码一起编译和链接。这种方法还可以方便地将LLVM IR转换为其他语言，例如Java，Python等。但需要注意的是，LLVM IR本身已经是一种高效的中间表示，因此将其转换为C语言可能会导致代码效率的降低。